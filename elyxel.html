---
layout: artdirected
title: The Idea Vending Machine
style: elyxel.css
class: elyxel
javascript: elyxel.js
---

<article>
  <figure class="vending-machine">
    <img src="/assets/img/elyxel/vending_machine.png" alt="The Idea Vending Machine Of The Mind">
  </figure>

  <div class="layout">
    <div class="date">
      <time datetime="2017-07-07">July 2017</time>
    </div>
    <div class="story-open">
      <header>
        <h1>The Idea Vending Machine</h1>
        <h2>Learnings from One Year of Building an Open Source Elixir Application</h2>
      </header>

      <p><span class="dropcap">I</span>f you're ever in Japan, one of the many things that might stand out are the multitude of glowing candy colored mechanical cubes lining the streets. These machines are often filled with an array of surprisingly tasty snacks and beverages. It's hard to resist trading the extra yen in your pocket for one of these delectable treats.</p>

      <p>I couldn't help but relate the idea of working on a project to the concept of these vending machines. In a similar vein, you end up trading time and effort to bring something into reality. And beyond the seductive temptation of these potential project ideas calling to you from behind the glass window, it's difficult to prove its merit without first investing time and work.</p>

      <p>I traded my free time last year to learn about and build an Elixir application. The result, <a href="https://www.elyxel.com">Elyxel</a>, is a basic community tool much like Hacker News et al. designed to be a space to gather and share stories. My goals were simple—finish and learn new skills along the way. The following is a detailed account of the things I learned along the way.</p>
    </div>
  </div>

  <figure>
    <div class="quadruple-frame">
      <div class="photo">
        <img src="/assets/img/elyxel/kirin.jpg" alt="Bamboo Forest Vending Machine">
      </div>

      <div class="photo">
        <img src="/assets/img/elyxel/alley.jpg" alt="Quiet Alley Vending Machine">
      </div>

      <div class="photo">
        <img src="/assets/img/elyxel/harajuku.jpg" alt="Harajuku Vending Machine">
      </div>

      <div class="photo">
        <img src="/assets/img/elyxel/coffee.jpg" alt="Coffee">
      </div>
    </div>
    <figcaption>Tokyo Spring 2017</figcaption>
  </figure>

  <div class="layout">
    <div class="story">
      <p>Additionally, Elyxel will be <a href="https://github.com/achariam/elyxel">open sourced</a> in the hope that it might be beneficial to anyone trying to learn from what I did. This piece is geared towards someone who is familiar with the fundamentals of programming and general web development.</p>

      <h3>Avoiding Design Limbo</h3>

      <p>I wanted to start with a fairly unoriginal simple concept that was familiar to me. At the time, solving the well defined problem of community software was particularly appealing. I was getting fatigued from the constant negative rhetoric that seemed to dominate the conversation on forums I frequent. That coupled with a desire to learn new technology was all the kindling I needed to get started.</p>

      <p>The actual design of the site took a minimal amount of time. I opted for a simple relatively sparse interface. On past projects I would spend a lot of time up front on the design phase of the project. It's easy (and honestly quite fun) to get lost in the design process.</p>

      <h3>Elixir &amp; Phoenix</h3>

      <p>To gain better leverage, I decided to use this spare time as an opportunity to learn a new programming language and framework. The sheer amount of ways to build a modern web application was staggering. But Elixir and Phoenix came out on top after some research—both were fast, being actively developed and most importantly easy to get started with.</p>

      <p>There's so many different ways to accomplish the same thing, and to be honest it was quite difficult cutting through the noise. I opted to try and remove as many elements as possible, with one of the major ones avoiding using a front-end javascript framework. Static pages were plenty fast for my use case. A vital part of the process is whittling down the problem to its core. </p>

      <p>After settling on my choice, I knew I needed a server to host the finished application. Instead of using an automated service like Heroku, I set about learning how to provision and setup a small virtual private server (VPS). Now having gone through the process, I've gained a greater appreciation and understanding of the setup infrastructure. I highly recommend doing it at least once.</p>

      <p>If you're interested in doing the same, I've listed the major steps of the process below. The entire setup process took about a month of learning and understanding best practices. I had to cut some of these explorations short as each thread I pulled on unearthed a hundred more. There's a staggering amount of low level tech built by brilliant folks we rely on everyday.</p>

      <ol>
        <li>Installed Ubuntu</li>
        <li>Setup password less login via SSH</li>
        <li>Installed NGINX</li>
        <li>Installed htop for monitoring</li>
        <li>Pointed the elyxel.com domain to the server</li>
        <li>Setup SSL via Let's Encrypt</li>
      </ol>

      <p>Note: Tutorials for this stuff are pretty easy to find. In fact most of the basics can be found on in one place: Digital Ocean's site.</p>

      <h3>Diving In To The Deep End</h3>

      <p>There's quite a few ways to approach learning within a new domain. What works best for me is starting out by reading through some of the foundational principles. Once I have a rudimentary understanding, I try really quickly to apply what I learn to any kind of problem. If I don't take this next step I usually don't end up making enough meaningful connections in my brain to remember any of it.</p>

      <p>Building the application consisted of two major learning steps. Learn enough of Elixir, which meant wrapping my head around functional programming and the syntax. Secondly, learn Phoenix, which was similar enough to Rails that it didn't require as much effort. </p>

      <p>There was an upfront cost of having to learn Elixir before I could build anything. While the syntax was familiar there were a few new concepts to grapple with due to Elixir being a functional programming language. There are many great tutorials to get you started here.</p>

      <p>Once I had the foundation, learning the the Phoenix framework was fairly smooth. The tutorial on the Phoenix project web page served as the backbone of the steps I took to write up the application. While it was a good overview some of the challenges I faced required looking up supplementary material. Luckily, any gaps in knowledge were then filled with shorter guides and pieces written by intrepid early adopters.</p>

      <p>After gaining some familiarity with the chosen tool set, I knew I needed to breakdown the project into smaller feature milestones— breaking down critical features needed for 1.0. This is the checklist I came up with:</p>

      <ul>
      <li>Draft &amp; Thoughts of problem to be solved</li>
      <li>Sketch and wireframes</li>
      <li>Server provisioning</li>
      <li>Landing Page</li>
      <li>Signup flow</li>
      <li>Invite Flow</li>
      <li>App Functionality

      <ul>
      <li>Top page</li>
      <li>Recents page</li>
      <li>Submit page</li>
      <li>Comments</li>
      <li>Profiles</li>
      <li>Voting Mechanism
      Nice to haves:</li>
      <li>Sentiment Analysis</li>
      <li>Curated stories</li>
      <li>Content Firehose</li>
      </ul></li>
      </ul>

      <p>Once I had the basics, it was a matter of building things piece by piece. The main challenge that kept coming up was the lack of robust best practices for features I was trying to build. In hindsight this was actually favorable because it ended up being a rewarding challenge to figure out things on my own when I did get stuck. I wouldn't recommend this process if you're under a deadline, but if the goal is learning then it definitely is valuable.</p>

      <p>I also tried to pick simpler libraries to utilize. The goal here was to be able to understand the tools I was using and avoid cruft. We've all heard the horror stories of including some mega complex library to achieve a relatively simple goal.</p>

      <p>The login and invite system was particularly tricky even though I used a simple library called openmaize. It was great but I found myself getting really paranoid about missing some big security feature and leaving myself exposed to an unforeseen vulnerability. </p>

      <p>One huge source of inspiration was the open source community Lobster's built in Rails. The code base was well built and accessible. I used some of the implementations I discovered from here. For example this particularly elegant bit of code allowing for human readable timestamps.</p>

      <h3>Performance</h3>

      <p>One thing I spent a lot of time thinking about was improving performance. Most of the app was designed and built with performance in mind. Styles and any additional flourishes were kept to a minimum. My choice of Elixir was driven by this as well. Most of the pages are a few kilobytes and load pretty quickly. It’s always helpful to keep performance in the back of your mind when building something. </p>

      <figure>
        <div class="window">
          <img src="/assets/img/elyxel/elyxel.png" alt="Elyxel App 1.0">
        </div>
        <figcaption>Final 1.0 design live</figcaption>
      </figure>

      <h3>Fatigue and Completion</h3>
      <p>One thing that stuck with me throughout this project was how challenging it was to work a full work day and spend a few extra hours at night chipping away at Elyxel. Particularly because I was doing really interesting rewarding work as well. There were so many times where I was too exhausted to come home and work on Elyxel even though I was super excited to. I always admire folks who are able to do both consistently well.</p>

      <blockquote cite="https://en.wikipedia.org/wiki/Perfect_is_the_enemy_of_good">
        Dans ses écrits, un sage Italien
        Dit que le mieux est l'ennemi du bien.
        <footer><a href="https://en.wikipedia.org/wiki/Perfect_is_the_enemy_of_good">Voltaire</a></footer>
      </blockquote>

      <p>To keep moving along I had to adapt the mantra, popularized by Voltaire, of not letting perfection being the enemy of good. There is endless amount of ways to iterate and improve something but I had to call whatever I was working on as done for the sake of progress even though I knew with more time I could improve it significantly. I've gotten better at it but it's still an uncomfortable decision most of the time. </p>

      <p>The good news is I ended up finishing my 1.0 in January but have since stopped working on it. This is partially due to a massive project at work taking up head space and generally wanting to take a break.</p>

      <h3>What's next?</h3>

      <p>Truthfully, I'm not sure. Now that it's out there I'm not quite sure what to do with it. I learned a ton from building Elyxel out that has helped me grow various skills that directly apply to my career. Ideally with a little more work it becomes a small growing community. If you’ve read through all of this you’re the kind of person I made Elyxel for. If you’d like to join please don’t hesitate to send me an e-mail.</p>

      <p>At the end of the day, I find the real delight comes from the moment you experience the vending machine whirring and clicking to life as it dispenses your reward with a satisfying thud.</p>

      <h3>Pointers</h3>
      <p>Here is a supplemental collection of links that I have read through and have helped throughout the process of building this app:</p>

      <p>Dev Ops</p>
      <ul>
        <li><a href="https://www.digitalocean.com/community/tutorials/apache-vs-nginx-practical-considerations">Apache vs Nginx Practical Considerations</a></li>
        <li><a href="https://wiki.mozilla.org/Security/Server_Side_TLS">Server Side TLS</a></li>
        <li><a href="https://www.codelitt.com/blog/my-first-10-minutes-on-a-server-primer-for-securing-ubuntu/">Primer for Securing Ubuntu</a></li>
        <li><a href="http://hisham.hm/htop/">htop</a></li>
        <li><a href="https://www.expeditedssl.com/aws-in-plain-english">AWS in Plain English</a></li>
        <li><a href="https://www.bjornjohansen.no/securing-nginx-ssl">Securing NGINX SSL</a></li>
        <li><a href="https://danielmiessler.com/study/tmux/">tmux</a></li>
        <li><a href="http://clarkdave.net/2012/08/postgres-quick-start-for-people-who-know-mysql/">Postgres Quick Start for People Who Know MYSQL</a></li>
        <li><a href="https://developers.google.com/web/tools/chrome-devtools/evaluate-performance/timeline-tool">Evaluate Performance with Chrome Dev Tools</a></li>
      </ul>

      <p>Elixir</p>
      <ul>
        <li><a href="https://dockyard.com/blog/2015/11/30/comparing-date-time-in-Elixir-with-ecto">Comparing Date Time in Elixir with Ecto</a></li>
        <li><a href="http://Elixirbridge.org/docs.html">Elixir Bridge Documentation</a></li>
        <li><a href="http://michal.muskala.eu/2015/07/30/unix-timestamps-in-Elixir.html">Unix Timestamps in Elixir</a></li>
        <li><a href="http://www.akitaonRails.com/2015/11/03/my-first-week-learning-Elixir">My First Week Learning Elixir</a></li>
        <li><a href="https://news.ycombinator.com/item?id=12756166">Ask HN—Are you using Elixir or Phoenix in Production</a></li>
        <li><a href="https://medium.com/@Pinterest_Engineering/introducing-new-open-source-tools-for-the-Elixir-community-2f7bb0bb7d8c">Pinterest Engineering—New Open Source Tools for the Elixir Community</a></li>
        <li><a href="https://pragprog.com/book/Elixir/programming-Elixir">Book—Programming Elixir</a></li>
        <li><a href="https://cfenollosa.com/blog/the-Elixir-of-concurrency.html">The Elixir of Concurrency</a></li>
        <li><a href="http://Elixirstatus.com">Elixirstatus—Latest Elixir News</a></li>
        <li><a href="http://www.Elixirdose.com/post/Phoenix_part_5_deploying_Phoenix_the_final_part">Deploying Phoenix</a></li>
        <li><a href="https://Elixir-lang.org/crash-course.html">Official Erlang & Elixir Syntax: A Crash Course</a></li>
        <li><a href="https://www.youtube.com/watch?v=ZCYEX6ZIJgM&amp;list=PLWbHc_FXPo2gB7HUE-2H61HAEyszAph3H&amp;index=12">Video—From a Ruby on Rails Monolith to Elixir and Elm Microservices</a></li>
        <li><a href="http://rny.io/Elixir/ecto/postgresql/2015/08/31/postgresql-indexing-with-ecto.html">Postgres Indexing with Ecto</a></li>
        <li><a href="http://big-elephants.com/2016-06/how-we-deploy-Elixir-apps/">How We Deploy Elixir Apps</a></li>
        <li><a href="https://stackoverflow.com/questions/30696761/check-if-a-url-is-valid-in-Elixir">Stack Overflow—Check if a URL is Valid in Elixir</a></li>
        <li><a href="https://stackoverflow.com/questions/31255126/get-only-specific-fields-when-fetching-data-using-ecto-in-Phoenix">Stack Overflow—Specific Fields When Fetching Data Using Ecto</a></li>
      </ul>

      <p>Phoenix</p>
      <ul>
        <li><a href="https://cdyer.co.uk/blog/deploying-Phoenix-Elixir-with-bash-script/">Deploying Phoenix with a Bash Script (I currently use this)</a></li>
        <li><a href="https://jimmy-beaudoin.com/posts/Elixir/Phoenix-deployment/">Phoenix Deployment</a></li>
        <li><a href="http://blog.carbonfive.com/2016/04/19/Elixir-and-Phoenix-the-future-of-web-apis-and-apps/">Elixir and Phoenix the Future of Web APIs and Apps</a></li>
        <li><a href="https://Elixirforum.com/t/complimentary-frontend-tools-for-single-page-applications/97/2">Complementary Frontend Tools for Single Page Applications</a></li>
        <li><a href="http://blog.danielberkompas.com/Elixir/2015/06/16/rate-limiting-a-Phoenix-api.html">Rate Limiting a Phoenix API</a></li>
        <li><a href="https://snippets.aktagon.com/snippets/776-pagination-with-Elixir-and-ecto">Pagination with Elixir and Ecto</a></li>
        <li><a href="https://10consulting.com/2015/11/18/Phoenix-react-redux-example/">Phoenix React Redux Example</a></li>
        <li><a href="https://www.youtube.com/watch?v=OxhTQdcieQE">Video—Rails to Phoenix by Brian Cardarella</a></li>
        <li><a href="http://wsmoak.net/2015/07/27/adding-fields-to-an-ecto-model-in-Phoenix.html">Adding Field to an Ecto Model in Phoenix</a></li>
        <li><a href="https://pragprog.com/book/Phoenix/programming-Phoenix">Book—Programming Phoenix</a></li>
        <li><a href="https://www.dailydrip.com/topics/elm/drips/elm-Phoenix-socket">Elm Phoenix Socket</a></li>
        <li><a href="https://medium.com/@chvanikoff/Phoenix-react-love-story-reph-1-c68512cfe18">Phoenix React Love Story</a></li>
        <li><a href="https://blog.codeship.com/comparing-Rails-and-Phoenix-part-i/">Comparing Rails and Phoenix</a></li>
        <li><a href="http://gabrieljaldon.com/articles/deploying-Phoenix-with-git.html">Deploying Phoenix with Git</a></li>
        <li><a href="https://semaphoreci.com/blog/2015/10/22/semaphore-continuous-deployment-with-Phoenix-1-0.html">Continuous Deployment with Phoenix</a></li>
        <li><a href="https://dockyard.com/blog/2016/05/02/Phoenix-tips-and-tricks">Phoenix Tips and Tricks</a></li>
        <li><a href="http://cloudless.studio/articles/2-best-of-Rails-in-Phoenix-part-1">Best Of Rails in Phoenix</a></li>
        <li><a href="https://stackoverflow.com/questions/36285173/adding-current-users-information-to-a-post-in-Phoenix-framework">Stack Overflow—Adding Current Users Information to a Post</a></li>
      </ul>

      <p>Thanks in advance to [folks here] for reading early drafts and providing invaluable advice.</p>

      <p>If you liked this story, I wrote a similar article about prototyping an ambient notification cube 2 years ago. And if you'd like to see more of this kind of stuff feel free to reach out via any of the usual social networks.</p>

      <p>[Footnotes]
      Since this was a learning exercise, it took more time than was truly necessary. I am fairly certain a competent programmer could have done the same in a month or less.</p>

      <p>If you're really digging through my commit history you would notice that were periods of time where no progress was made. This was either when we were moving or work was really overwhelming.</p>
    </div>
  </div>
</article>